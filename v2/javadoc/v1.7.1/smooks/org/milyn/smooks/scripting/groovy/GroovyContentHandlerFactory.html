<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_232) on Thu Jan 16 22:45:56 CET 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>GroovyContentHandlerFactory (Milyn :: Main Aggregator 1.7.1 API)</title>
<meta name="date" content="2020-01-16">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="GroovyContentHandlerFactory (Milyn :: Main Aggregator 1.7.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GroovyContentHandlerFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/milyn/smooks/scripting/groovy/GroovyContentHandlerFactory.html" target="_top">Frames</a></li>
<li><a href="GroovyContentHandlerFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.milyn.smooks.scripting.groovy</div>
<h2 title="Class GroovyContentHandlerFactory" class="title">Class GroovyContentHandlerFactory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.milyn.smooks.scripting.groovy.GroovyContentHandlerFactory</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/milyn/delivery/ContentHandler.html" title="interface in org.milyn.delivery">ContentHandler</a>, <a href="../../../../../org/milyn/delivery/ContentHandlerFactory.html" title="interface in org.milyn.delivery">ContentHandlerFactory</a></dd>
</dl>
<hr>
<br>
<pre><a href="../../../../../org/milyn/delivery/annotation/Resource.html" title="annotation in org.milyn.delivery.annotation">@Resource</a>(<a href="../../../../../org/milyn/delivery/annotation/Resource.html#type--">type</a>="groovy")
public class <span class="typeNameLabel">GroovyContentHandlerFactory</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../org/milyn/delivery/ContentHandlerFactory.html" title="interface in org.milyn.delivery">ContentHandlerFactory</a></pre>
<div class="block"><a href="../../../../../org/milyn/delivery/Visitor.html" title="interface in org.milyn.delivery"><code>Visitor</code></a> Factory class for the <a href="http://groovy.codehaus.org/">Groovy</a> scripting language.
 <p/>
 Implement DOM or SAX visitors using the Groovy scripting language.

 <h2>Usage Tips</h2>
 <ul>
  <li><b>Imports</b>: Imports can be added via the "imports" element.  A number of classes are automatically imported:
      <ul>
          <li><a href="../../../../../org/milyn/xml/DomUtils.html" title="class in org.milyn.xml"><code>org.milyn.xml.DomUtils</code></a></li>
          <li><a href="../../../../../org/milyn/javabean/context/BeanContext.html" title="interface in org.milyn.javabean.context"><code>BeanContext</code></a></li>
          <li><a href="http://docs.oracle.com/javase/8/docs/api/org/w3c/dom/package-summary.html?is-external=true"><code>org.w3c.dom.*</code></a></li>
          <li>groovy.xml.dom.DOMCategory, groovy.xml.dom.DOMUtil, groovy.xml.DOMBuilder</li>
      </ul>
  </li>
  <li><b>Visited Element</b>: The visited element is available to the script through the variable "element".  It is also available
      under a variable name equal to the element name, but only if the element name contains alpha-numeric
      characters only.</li>
  <li><b>Execute Before/After</b>: By default, the script is executed on the visitAfter event.  You can direct it to be
      executed on the visitBefore by setting the "executeBefore" attribute to "true".</li>
  <li><b>Comment/CDATA Script Wrapping</b>: If the script contains special XML characters, it can be wrapped in an XML
       Comment or CDATA section.  See example below.</li>
 </ul>

 <h2>Mixing SAX and DOM Models</h2>
 When using the SAX filter, Groovy scripts can take advantage of the <a href="../../../../../org/milyn/delivery/DomModelCreator.html" title="class in org.milyn.delivery"><code>DomModelCreator</code></a>.  <b>This is only
 the case when the script is applied on the visitAfter event of the targeted element</b> (i.e. executeBefore="false",
 which is the default).  If executeBefore is set to "true", the <a href="../../../../../org/milyn/delivery/DomModelCreator.html" title="class in org.milyn.delivery"><code>DomModelCreator</code></a> will not be utilized.
 <p/>
 What this means is that you can use DOM utilities to process the targeted message fragment.  The "element"
 received by the Groovy script will be a DOM <a href="http://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Element.html?is-external=true" title="class or interface in org.w3c.dom"><code>Element</code></a>.  This makes Groovy scripting via the SAX filter
 a lot easier, while at the same time maintaining the ability to process huge messages in a streamed fashion.
 <p/>
 <b>Notes</b>:
 <ol>
  <li>Only available in default mode i.e. when executeBefore equals "false".  If executeBefore is configured
      "true", this facility is not available and the Groovy script will only have access to the element
      as a <a href="../../../../../org/milyn/delivery/sax/SAXElement.html" title="class in org.milyn.delivery.sax"><code>SAXElement</code></a>.</li>
  <li>The DOM fragment must be explicitly writen to the result using "<b>writeFragment</b>".  See example below.</li>
  <li>There is an obvious performance overhead incurred using this facility (DOM construction).  That said, it can still
      be used to process huge messages because of how the <a href="../../../../../org/milyn/delivery/DomModelCreator.html" title="class in org.milyn.delivery"><code>DomModelCreator</code></a> works for SAX.</li>
 </ol>

 <h2>Example Configuration</h2>
 Take an XML message such as:
 <pre>
 &lt;shopping&gt;
     &lt;category type="groceries"&gt;
         &lt;item&gt;Chocolate&lt;/item&gt;
         &lt;item&gt;Coffee&lt;/item&gt;
     &lt;/category&gt;
     &lt;category type="supplies"&gt;
         &lt;item&gt;Paper&lt;/item&gt;
         &lt;item quantity="4"&gt;Pens&lt;/item&gt;
     &lt;/category&gt;
     &lt;category type="present"&gt;
         &lt;item when="Aug 10"&gt;Kathryn's Birthday&lt;/item&gt;
     &lt;/category&gt;
 &lt;/shopping&gt;
 </pre>

 Using Groovy, we want to modify the "supplies" category in the shopping list, adding 2 to the
 quantity, where the item is "Pens".  To do this, we write a simple little Groovy script and target
 it at the &lt;category&gt; elements in the message.  The script simple iterates over the &lt;item&gt; elements
 in the category and increments the quantity by 2, where the category type is "supplies" and the item is "Pens":

 <pre>
 &lt;?xml version="1.0"?&gt;
 &lt;smooks-resource-list xmlns="http://www.milyn.org/xsd/smooks-1.1.xsd" xmlns:g="<a href="http://www.milyn.org/xsd/smooks/groovy-1.1.xsd">http://www.milyn.org/xsd/smooks/groovy-1.1.xsd</a>"&gt;

     &lt;!--
     Use the SAX filter.  Note how we can still process the fragment as a DOM, and write it out
     to the result stream after processing.
     --&gt;
     &lt;params&gt;
         &lt;param name="stream.filter.type"&gt;SAX&lt;/param&gt;
     &lt;/params&gt;

     &lt;g:groovy executeOnElement="category"&gt;
         &lt;g:script&gt;
             &lt;!--
             use(DOMCategory) {

                 // modify supplies: we need an extra 2 pens
                 if (category.'@type' == 'supplies') {
                     category.item.each { item -&gt;
                         if (item.text() == 'Pens') {
                             item['@quantity'] = item.'@quantity'.toInteger() + 2
                         }
                     }
                 }
             }

             // Must explicitly write the fragment to the result stream when
             // using the SAX filter.
             writeFragment(category);
             --&gt;
         &lt;/g:script&gt;
     &lt;/g:groovy&gt;

 &lt;/smooks-resource-list&gt;
 </pre></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="mailto:tom.fennelly@gmail.com">tom.fennelly@gmail.com</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.milyn.delivery.ContentHandlerFactory">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.milyn.delivery.<a href="../../../../../org/milyn/delivery/ContentHandlerFactory.html" title="interface in org.milyn.delivery">ContentHandlerFactory</a></h3>
<code><a href="../../../../../org/milyn/delivery/ContentHandlerFactory.html#PARAM_RESTYPE">PARAM_RESTYPE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/milyn/smooks/scripting/groovy/GroovyContentHandlerFactory.html#GroovyContentHandlerFactory--">GroovyContentHandlerFactory</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/milyn/delivery/ContentHandler.html" title="interface in org.milyn.delivery">ContentHandler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/milyn/smooks/scripting/groovy/GroovyContentHandlerFactory.html#create-org.milyn.cdr.SmooksResourceConfiguration-">create</a></span>(<a href="../../../../../org/milyn/cdr/SmooksResourceConfiguration.html" title="class in org.milyn.cdr">SmooksResourceConfiguration</a>&nbsp;configuration)</code>
<div class="block">Create the content handler instance.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/milyn/smooks/scripting/groovy/GroovyContentHandlerFactory.html#initialize--">initialize</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="GroovyContentHandlerFactory--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>GroovyContentHandlerFactory</h4>
<pre>public&nbsp;GroovyContentHandlerFactory()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initialize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre><a href="../../../../../org/milyn/delivery/annotation/Initialize.html" title="annotation in org.milyn.delivery.annotation">@Initialize</a>
public&nbsp;void&nbsp;initialize()
                            throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="create-org.milyn.cdr.SmooksResourceConfiguration-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>create</h4>
<pre>public&nbsp;<a href="../../../../../org/milyn/delivery/ContentHandler.html" title="interface in org.milyn.delivery">ContentHandler</a>&nbsp;create(<a href="../../../../../org/milyn/cdr/SmooksResourceConfiguration.html" title="class in org.milyn.cdr">SmooksResourceConfiguration</a>&nbsp;configuration)
                      throws <a href="../../../../../org/milyn/cdr/SmooksConfigurationException.html" title="class in org.milyn.cdr">SmooksConfigurationException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/milyn/delivery/ContentHandlerFactory.html#create-org.milyn.cdr.SmooksResourceConfiguration-">ContentHandlerFactory</a></code></span></div>
<div class="block">Create the content handler instance.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/milyn/delivery/ContentHandlerFactory.html#create-org.milyn.cdr.SmooksResourceConfiguration-">create</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/milyn/delivery/ContentHandlerFactory.html" title="interface in org.milyn.delivery">ContentHandlerFactory</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>configuration</code> - The SmooksResourceConfiguration for the <a href="../../../../../org/milyn/delivery/ContentHandler.html" title="interface in org.milyn.delivery"><code>ContentHandler</code></a>
 to be created.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Content handler instance.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/milyn/cdr/SmooksConfigurationException.html" title="class in org.milyn.cdr">SmooksConfigurationException</a></code> - Successfully created ContentHandler, but an error occured during configuration.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GroovyContentHandlerFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/milyn/smooks/scripting/groovy/GroovyContentHandlerFactory.html" target="_top">Frames</a></li>
<li><a href="GroovyContentHandlerFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2020. All rights reserved.</small></p>
</body>
</html>
